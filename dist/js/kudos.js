var Kudos=function(){"use strict";var e,o,n,t={},i={startingNumber:0,wrapper:".js-kudos",container:".kudos-counter",text:".js-kudos > p",numberClass:"kudos-number",animateClass:"kudos-animate",animation:{numberPosition:[25,0],helperPosition:[8,0]},dialog:{intro:"Kudos",hover:"Don't move!",finish:"Thanks!"}},a=[],r=!1,l=!1,s={raw:[],helpers:[]};t.config=i;var u=function(t,a){console.log("<INITKUDOS></INITKUDOS>"),s={raw:[],helpers:[]},e=document.querySelector(i.wrapper),o=document.querySelector(i.container),n=document.querySelector(i.text),t&&(i.startingNumber=t);for(var r=i.startingNumber.toString(),l=0;l<r.length;l++)s.raw[l]=r.charAt(l);for(var u=(i.startingNumber+1).toString(),p=0;p<u.length;p++)s.helpers[p]=u.charAt(p);e.addEventListener("mouseover",h,!1),e.addEventListener("mouseleave",m,!1),c(),a?f():d()};t.init=u;var c=function(){var e=document.createDocumentFragment();[].forEach.call(s.helpers,function(o,n,t){void 0===s.raw[n]&&(s.raw[n]="");var a=document.createElement("DIV");a.classList.add(i.numberClass),a.innerHTML='<p class="kudos-number-helper" style="top:'+i.animation.helperPosition[0]+'px; opacity: 0;">'+s.helpers[n]+'</p><p class="kudos-number-visible" style="top:'+i.animation.numberPosition[0]+'px; opacity: 1;">'+s.raw[n]||"0</p>",s.helpers[n]!==s.raw[n]&&a.classList.add(i.animateClass),e.appendChild(a)}),o.innerHTML="",o.appendChild(e)},d=function(){a=[],r=!1,l=!1;var e=document.querySelectorAll("."+i.animateClass);[].forEach.call(e,function(e,o,n){var t=e.querySelector(".kudos-number-helper"),i=e.querySelector(".kudos-number-visible"),r=new TimelineLite({paused:!0});r.to(i,.5,{top:36}).to(i,.5,{top:46,opacity:0}).call(function(){v()}).to(t,1,{opacity:1},"-=0.25").to(t,2.2,{top:25,ease:Elastic.easeOut},"-=1"),a[o]=r})},p=function(){l===!1&&(console.log(a.reverse()),[].forEach.call(a,function(e,o,n){console.log(o),setTimeout(function(){e.restart()},400*o)}))},h=function(e){console.log("hover"),l===!1&&(n.innerHTML=i.dialog.hover),r===!1&&(p(),r=!0)},m=function(e){l===!1&&([].forEach.call(a,function(e,o,n){e.reverse()}),r=!1,n.innerHTML=i.dialog.intro)},v=function(){f(),g()},f=function(){l=!0,r=!1,n.innerHTML=i.dialog.finish,window.location.hash="ðŸ˜®"};t.done=f;var g=function(){KudosFirebase.add()};return t.extendDone=g,t}(),KudosFirebase=function(){{var e=new Firebase("https://ents-testing.firebaseio.com/"),o=e.child("kudos");e.getAuth()}visible={};var n=function(){var n=e.getAuth();null==n&&e.authAnonymously(function(e,o){}),console.log("ININIT");var t=document.location.pathname.replace(/[\/-]/g,"");console.log(t),o.child(t).on("value",function(e){if(e){var i=e.val(),a=0;if(i)for(var r in i.likes)a++}o.child(t).child("likes").child(n.uid).once("value",function(e){null!==e.val()?(console.log("hlasoval"),Kudos.init(a,!0)):Kudos.init(a)})})};visible.init=n;var t=function(){var n=function(){console.log(i),i&&o.child(t).child("likes").child(i.uid).set({count:1})},t=document.location.pathname.replace(/[\/-]/g,""),i=e.getAuth();null==i?e.authAnonymously(function(e,o){n()}):n()};return visible.add=t,visible}();app.extFn.push(KudosFirebase.init),console.log(app),console.log(app),console.log(KudosFirebase),console.log(Kudos);